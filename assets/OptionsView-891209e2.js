import{_ as N,u as C,g as c,o as a,c as u,b as o,w as y,v as S,k as D,F as k,r as w,l as O,m as E,n as F,q as j,t as L,p as x,f as U,a as V,s as G,x as q,y as z,e as M,z as W,A as H,B as I,C as J,h as K,i as Q,D as X,j as A}from"./index-709c2c8b.js";import"https://www.gstatic.com/firebasejs/9.6.2/firebase-app.js";import"https://www.gstatic.com/firebasejs/9.6.2/firebase-firestore.js";const b=n=>(x("data-v-91705b77"),n=n(),U(),n),Y={class:"containerRoom"},Z=b(()=>o("div",{class:"title"},[o("h1",null,"Room options")],-1)),oo=b(()=>o("h3",null,"Add room",-1)),eo=b(()=>o("p",null,"Name",-1)),so=b(()=>o("br",null,null,-1)),to=b(()=>o("h3",null,"Delete room",-1)),lo=b(()=>o("p",null,"Name",-1)),no=b(()=>o("br",null,null,-1)),io=b(()=>o("h3",null,"Rename room",-1)),ao=b(()=>o("p",null,"Room",-1)),uo=b(()=>o("br",null,null,-1)),po=b(()=>o("p",null,"New name",-1)),ro=b(()=>o("br",null,null,-1)),vo={__name:"RoomsOptions",props:{dispList:Array,roomList:Array},setup(n){const h=n,r=C(),m=c(""),s=c(""),e=c(""),l=c(""),v=()=>{m.value!==""&&(O("usuarios",r.user.id,m.value),m.value="")},i=()=>{E("usuarios",r.user.id,s.value),h.dispList.filter(R=>R.room===s.value).map(R=>{F("dispositivos",R.id,"No room")}),s.value=""},d=()=>{e.value!==""&&l.value!==""&&(E("usuarios",r.user.id,l.value),O("usuarios",r.user.id,e.value),h.dispList.map(R=>{R.room===l.value&&j("dispositivos",R.id,e.value)})),e.value="",l.value=""};return(R,$)=>(a(),u("div",Y,[Z,o("div",null,[oo,eo,y(o("input",{type:"text","onUpdate:modelValue":$[0]||($[0]=p=>m.value=p)},null,512),[[S,m.value]]),so,o("div",{class:"buttons"},[o("button",{onClick:v},"add")])]),o("div",null,[to,lo,y(o("select",{name:"rooms",id:"rooms","onUpdate:modelValue":$[1]||($[1]=p=>s.value=p)},[(a(!0),u(k,null,w(h.roomList.filter(p=>p!=="No room"),p=>(a(),u("option",null,L(p),1))),256))],512),[[D,s.value]]),no,o("div",{class:"buttons"},[o("button",{onClick:i},"delete")])]),o("div",null,[io,ao,y(o("select",{name:"rooms",id:"rooms","onUpdate:modelValue":$[2]||($[2]=p=>l.value=p)},[(a(!0),u(k,null,w(h.roomList.filter(p=>p!=="No room"),p=>(a(),u("option",null,L(p),1))),256))],512),[[D,l.value]]),uo,po,y(o("input",{type:"text","onUpdate:modelValue":$[3]||($[3]=p=>e.value=p)},null,512),[[S,e.value]]),ro,o("div",{class:"buttons"},[o("button",{onClick:d},"rename")])])]))}},mo=N(vo,[["__scopeId","data-v-91705b77"]]);const g=n=>(x("data-v-5456b9b2"),n=n(),U(),n),co=g(()=>o("p",null,"New name",-1)),_o=g(()=>o("p",null,"Change Room",-1)),ho=g(()=>o("img",{class:"close-img",src:z,alt:""},null,-1)),fo=[ho],yo={__name:"EditDispModal",props:{dispSelected:Object},emits:["closeModal"],setup(n,{emit:h}){const r=n,m=C(),s=c(""),e=c(""),l=()=>{s.value!=""&&q("dispositivos",r.dispSelected.id,s.value),e.value!=""&&j("dispositivos",r.dispSelected.id,e.value),h("closeModal"),s.value="",e.value=""};return(v,i)=>(a(),u("div",{class:"modal-overlay",onClick:i[4]||(i[4]=d=>v.$emit("closeModal"))},[o("div",{class:"modal",onClick:i[2]||(i[2]=G(()=>{},["stop"]))},[o("p",null,"Edit dispositivo "+L(r.dispSelected.name),1),co,y(o("input",{"onUpdate:modelValue":i[0]||(i[0]=d=>s.value=d),type:"text"},null,512),[[S,s.value]]),_o,y(o("select",{name:"rooms",id:"rooms","onUpdate:modelValue":i[1]||(i[1]=d=>e.value=d)},[(a(!0),u(k,null,w(V(m).user.rooms.filter(d=>d!=r.dispSelected.room),d=>(a(),u("option",null,L(d),1))),256))],512),[[D,e.value]]),o("button",{onClick:l},"edit")]),o("div",{class:"close",onClick:i[3]||(i[3]=d=>v.$emit("closeModal"))},fo)]))}},bo=N(yo,[["__scopeId","data-v-5456b9b2"]]);const _=n=>(x("data-v-154dd09f"),n=n(),U(),n),$o={class:"containerOptions"},Ro=_(()=>o("div",{class:"title"},[o("h1",null,"Dispositivos options")],-1)),Do=_(()=>o("h3",null,"Add dispositivo",-1)),Lo=_(()=>o("p",null,"Name",-1)),ko=_(()=>o("p",null,"Room",-1)),wo=_(()=>o("p",null,"Type",-1)),So=_(()=>o("option",null,"sensor",-1)),Vo=_(()=>o("option",null,"ejecutor",-1)),No=[So,Vo],Co={key:0},Mo=_(()=>o("p",null,"param",-1)),xo=_(()=>o("option",null,"hr",-1)),Uo=_(()=>o("option",null,"temp",-1)),go=_(()=>o("option",null,"lux",-1)),Oo=[xo,Uo,go],Eo={key:1,class:"buttons"},Io=_(()=>o("h3",null,"Edit dispositivo",-1)),Ao=_(()=>o("p",null,"Room",-1)),jo=_(()=>o("p",null,"Name",-1)),Bo=["value"],Po={class:"buttons"},To={__name:"DispositivoOptions",props:{dispList:Array,roomList:Array},setup(n){const h=n,r=C(),m=c(!1);let s=c("");const e=c(null),l=c(""),v=c(""),i=c(""),d=c(""),R=()=>{l.value!==""&&I({user:r.user.name,name:l.value,room:i.value,type:v.value,param:d.value,value:0}),l.value="",v.value="",i.value="",d.value=""},$=()=>{l.value!==""&&I({user:r.user.name,name:l.value,room:i.value,type:v.value,state:!1}),l.value="",v.value="",i.value="",d.value=""},p=()=>{J("dispositivos",e.value.id),s="",e={}},B=()=>{s.value!=""&&e.value!=null&&(m.value=!0)},P=()=>{m.value=!1,s.value="",e.value=""};return(zo,f)=>(a(),u("div",$o,[Ro,o("div",null,[Do,Lo,y(o("input",{type:"text","onUpdate:modelValue":f[0]||(f[0]=t=>l.value=t)},null,512),[[S,l.value]]),ko,y(o("select",{name:"rooms",id:"rooms","onUpdate:modelValue":f[1]||(f[1]=t=>i.value=t)},[(a(!0),u(k,null,w(n.roomList,t=>(a(),u("option",null,L(t),1))),256))],512),[[D,i.value]]),wo,y(o("select",{name:"type",id:"type","onUpdate:modelValue":f[2]||(f[2]=t=>v.value=t)},No,512),[[D,v.value]]),v.value=="sensor"?(a(),u("div",Co,[Mo,y(o("select",{name:"type",id:"type","onUpdate:modelValue":f[3]||(f[3]=t=>d.value=t)},Oo,512),[[D,d.value]]),o("div",{class:"buttons"},[o("button",{onClick:R},"add")])])):M("",!0),v.value=="ejecutor"?(a(),u("div",Eo,[o("button",{onClick:$},"add")])):M("",!0)]),o("div",null,[Io,Ao,y(o("select",{name:"rooms",id:"rooms","onUpdate:modelValue":f[4]||(f[4]=t=>W(s)?s.value=t:s=t)},[(a(!0),u(k,null,w(h.roomList,t=>(a(),u("option",null,L(t),1))),256))],512),[[D,V(s)]]),jo,y(o("select",{name:"dispositivos",id:"dispositivos","onUpdate:modelValue":f[5]||(f[5]=t=>e.value=t)},[(a(!0),u(k,null,w(h.dispList.filter(t=>t.room==V(s)),(t,T)=>(a(),u("option",{key:T,value:t},L(t.name),9,Bo))),128))],512),[[D,e.value]]),o("div",Po,[o("button",{onClick:p},"delete"),o("button",{onClick:B},"edit"),m.value?(a(),H(bo,{key:0,dispSelected:e.value,onCloseModal:P},null,8,["dispSelected"])):M("",!0)])])]))}},Fo=N(To,[["__scopeId","data-v-154dd09f"]]);const Go={class:"container"},qo={__name:"OptionsView",setup(n){const h=C(),r=c([]),m=c([]);return K(()=>{Q(h.user.name,s=>{const e=[];s.forEach(l=>{const v=l.data();v.id=l.id,e.push(v)}),r.value=e}),X(h.user.name,s=>{s.forEach(e=>{m.value=e.data().rooms})})}),(s,e)=>(a(),u(k,null,[o("p",null,"Welcome "+L(V(h).user.name)+", this is your options panel",1),o("div",Go,[A(mo,{dispList:r.value,roomList:m.value},null,8,["dispList","roomList"]),A(Fo,{dispList:r.value,roomList:m.value},null,8,["dispList","roomList"])])],64))}},Ko=N(qo,[["__scopeId","data-v-150a9c49"]]);export{Ko as default};
